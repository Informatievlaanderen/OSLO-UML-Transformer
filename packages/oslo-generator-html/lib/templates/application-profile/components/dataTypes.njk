<div class="region region--no-space-top">
    <h2 class="h2">Datatypes</h2>
</div>
{% for dataType in data.dataTypes | sort(attribute=sortattr) %}
    <div class="region region--no-space-top">
        <h3 class="h3" id="{{ dataType.id }}">
            <a href="{{ dataType.id }}" data-toggle="tooltip" data-content="{{ dataType.id }}" id="{{ dataType.applicationProfileLabel[language] }}" data-placement="right">
                {{ dataType.applicationProfileLabel[language] }}</a>
        </h3>
        <div class="region region--no-space-top">
            <dl>
                <dt>Beschrijving</dt>
                <dd>
                    {{ dataType.applicationProfileDefinition[language] }}
                </dd>
                {% if dataType.usage[language] %}
                    <dt>Gebruik</dt>
                    <dd>
                        {{ dataType.applicationProfileUsageNote[language] | safe }}
                    </dd>
                {% endif %}
                {% if ((dataType.parents | length) > 0 ) %}
                    <dt>Subklasse van
                        <dt>
                            <dd>
                                {%- for parent in dataType['parents'] %}
                                    <a href="{{ parent.id }}">
                                        {{ parent.applicationProfileLabel[language] }}</a>
                                    {% if not loop.last %},
                                    {% endif %}
                                {%- endfor %}
                            </dd>
                        {% endif %}
                        <dt>Eigenschappen</dt>
                        {% if ((dataType.properties | length) > 0 ) %}
                            <dd>Voor dit datatype zijn de volgende eigenschappen gedefinieerd:
                                {%- for prop in dataType['properties'] | sort(attribute=sortattr) %}
                                    <a href="#{{ (dataType.applicationProfileLabel[language] ~ '.' ~ prop.applicationProfileLabel[language]) | urlencode }}">{{ prop.applicationProfileLabel[language] }}</a>
                                    {% if not loop.last %},
                                    {% endif %}
                                {%- endfor %}.
                            </dd>
                        {% else %}
                            <dd>Voor dit datatype zijn geen eigenschappen gedefinieerd.</dd>
                        {% endif %}
                    </dl>
                </div>
                {% if ((dataType.properties | length) > 0 ) %}
                    <div class="u-table-overflow">
                        <table class="data-table">
                            <thead>
                                <tr class="data-table__header">
                                    <th class="data-table__header-title--sortable data-table__header-title--sortable-active">Eigenschap</th>
                                    <th class="data-table__header-title--sortable">Verwacht Type</th>
                                    <th class="data-table__header-title--sortable">Kardinaliteit</th>
                                    <th class="data-table__header-title--sortable">Beschrijving</th>
                                    <th class="data-table__header-title--sortable">Gebruik</th>
                                    <th class="data-table__header-title--sortable">Codelijst</th>
                                </tr>
                            </thead>
                            <tbody class="supertype">
                                {% for prop in dataType['properties'] | sort(attribute=sortattr) %}
                                    <tr id="{{ (dataType.applicationProfileLabel[language] ~ '.' ~ prop.applicationProfileLabel[language]) | urlencode }}" typeof="rdfs:Property" resource="{{ prop.uri }}">
                                        <td>
                                            <code property="rdfs:label">
                                                <a href="{{ prop.id }}" data-toggle="tooltip" data-content="{{ prop.id }}" data-placement="right">
                                                    {{ prop.applicationProfileLabel[language] }}</a>
                                            </code>
                                        </td>
                                        <td>
                                            {% if prop.range %}
                                                <a href="{{ prop.range.id }}" data-toggle="tooltip" data-content="{{ prop.range.id }}" data-placement="right">
                                                    {{ prop.range.applicationProfileLabel[language] }}</a>
                                            {% endif %}
                                        </td>
                                        <td>
                                            {% if prop.minCount == prop.maxCount %}
                                                {% set cardinality = prop.minCount %}
                                            {% else %}
                                                {% set cardinality = prop.minCount + '..' + prop.maxCount %}
                                            {% endif %}
                                            {{ cardinality }}
                                        </td>
                                        <td property="rdfs:comment">
                                            {{ prop.applicationProfileDefinition[language] }}
                                        </td>
                                        <td property="vann:usageNote">
                                            {{ prop.applicationProfileUsageNote[language] | safe }}
                                        </td>
                                        <td>
                                            {% if prop.codelist %}
                                                <a href="{{ prop.codelist }}">Link</a>
                                            {% endif %}
                                        </td>
                                    </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                {% endif %}
            </div>
        {% endfor %}